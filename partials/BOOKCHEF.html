<!DOCTYPE html>
<html>
  <head>     <link href="prism.css" rel="stylesheet"> <script type="text/javascript-lazy"  >  	var admobid = {}; if( /(android)/i.test(navigator.userAgent) ) {     admobid = {            banner: 'ca-app-pub-5170973579111533/1085713519',        interstitial: 'ca-app-pub-5170973579111533/8936283376'     }; } else if(/(ipod|iphone|ipad)/i.test(navigator.userAgent)) {     admobid = {            banner: 'ca-app-pub-6869992474017983/4806197152',         interstitial: 'ca-app-pub-6869992474017983/7563979554'     }; } else {     admobid = {              banner: 'ca-app-pub-6869992474017983/8878394753',         interstitial: 'ca-app-pub-6869992474017983/1355127956'     }; } if(( /(ipad|iphone|ipod|android|windows phone)/i.test(navigator.userAgent) )) {     document.addEventListener('deviceready', initApp, false); } else {     initApp(); }  function initApp() {     if (! AdMob ) { alert( 'admob plugin not ready' ); return; }       AdMob.createBanner( {         adId: admobid.banner,         isTesting: false,         overlap: false,         offsetTopBar: false,         position: AdMob.AD_POSITION.BOTTOM_CENTER,         bgColor: 'black'     } );      AdMob.prepareInterstitial({         adId: admobid.interstitial,         autoShow: false     }); }    </script></head>
  <body style="background-color:white;" >
	<script type="text/javascript" src="prism.js"></script>

	<pre  ng-prism  class="language-python"><code>
		



"""
Chef Watson uses a social network called ChefBook, which has a new feed consisting of posts by his 
friends. Each post can be characterized by f - the identifier of the friend who created the post, 
p - the popularity of the post(which is pre-calculated by ChefBook platform using some machine 
learning algorithm) and s - the contents of the post which is a string of lower and uppercase 
English alphabets.

Also, Chef has some friends, which he has marked as special.

The algorithm used by ChefBook for determining the order of posts in news feed is as follows:

Posts of special friends should be shown first, irrespective of popularity. Among all such posts 
the popular ones should be shown earlier.
Among all other posts, popular posts should be shown earlier.
Given, a list of identifiers of Chef's special friends and a list of posts, you have to implement 
this algorithm for engineers of ChefBook and output the correct ordering of posts in the new feed.

Input
First line contains N, number of special friends of Chef and M, the number of posts. Next line 
contains N integers A1, A2, ..., AN denoting the identifiers of special friends of Chef. Each of 
the next M lines contains a pair of integers and a string denoting f, p and s, identifier of the 
friend who created the post, the popularity of the post and the contents of the post, respectively. 
It is guaranteed that no two posts have same popularity.

Output
Output correct ordering of posts in news feed in M lines. Output only the contents of a post.


Example

Input:
2 4
1 2
1 1 WhoDoesntLoveChefBook
2 2 WinterIsComing
3 10 TheseViolentDelightsHaveViolentEnds
4 3 ComeAtTheKingBestNotMiss

Output:
WinterIsComing
WhoDoesntLoveChefBook
TheseViolentDelightsHaveViolentEnds
ComeAtTheKingBestNotMiss
"""

#program
N, M = map(int, input().split())
identifier = input().split() #can't input as intergers bcoz needs to be compared in if statement

special = []
normal = []

for x in range(0, M):
	f, p, s = input().split()
	if f in identifier:
		special.append((int(p),s))
	else :
		normal.append((int(p),s))

special.sort(key=lambda x: x[0], reverse = True)
normal.sort(reverse = True)

for p,s in special:
	print(s)

for p,s in normal:
	print(s)
	
	
	
        </code></pre>
  </body>
</html>		
